var usersTable,_0x107bb4=_0x25da;!function(){for(var e=_0x25da,t=_0xd68b();;)try{if(809156==-parseInt(e(170))+parseInt(e(146))/2*(-parseInt(e(141))/3)+-parseInt(e(224))/4*(parseInt(e(117))/5)+parseInt(e(237))/6*(-parseInt(e(218))/7)+-parseInt(e(213))/8*(-parseInt(e(220))/9)+-parseInt(e(166))/10+parseInt(e(127))/11*(parseInt(e(133))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();try{sortColumn=$("#user-body")[_0x107bb4(234)](_0x107bb4(248))}catch(e){sortColumn=1}try{sortStyle=$(_0x107bb4(119)).attr(_0x107bb4(233))}catch(e){sortStyle="asc"}function _0x25da(e,t){var s=_0xd68b();return(_0x25da=function(e,t){return s[e-=114]})(e,t)}try{pageLength=$(_0x107bb4(119))[_0x107bb4(234)]("page-length")}catch(e){pageLength=5}try{hideColsRaw=$(_0x107bb4(119)).attr(_0x107bb4(216)),hideCols=hideColsRaw.split(",")}catch(e){hideCols=[]}var roleCompanies={};try{document[_0x107bb4(147)](_0x107bb4(212))[_0x107bb4(120)][_0x107bb4(239)]="none"}catch(e){}var users=new Vue({delimiters:["[[","]]"],el:_0x107bb4(119),data:{users:[],roles:[]}}),userDetails=new Vue({delimiters:["[[","]]"],el:_0x107bb4(205),data:{details:{},roles:[],companies:[],roles_full:{}}}),newUserDetails=new Vue({delimiters:["[[","]]"],el:_0x107bb4(228),data:{details:{},roles:[],companies:[]}});function updateusers(){var s=_0x107bb4;$(".sidebar-transparent")[s(142)]();try{usersTable.destroy()}catch(e){}var e=s(121);try{e+=s(165)+String(superadmin)}catch(e){}console.log(e);$[s(129)](e,function(e){var t=s;console[t(171)](e),users[t(231)]=e[t(231)]})[s(194)](function(){setTimeout(function(){var t=_0x25da;try{usersTable=$(t(119))[t(157)]({order:[[parseInt(sortColumn),sortStyle]],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],pageLength:parseInt(pageLength),language:{paginate:{previous:"<<",next:">>"}},initComplete:function(){var e=t;$(this[e(156)]()[e(229)]()[e(159)]())[e(184)](e(155))[e(244)]().wrap("<form>")[e(244)]()[e(234)]("autocomplete",e(164))[e(189)](e(167),"hidden")[e(189)](e(151),e(204))}});for(var e=0;e<hideCols[t(202)];e++)console[t(171)](hideCols[e]),usersTable[t(131)](parseInt(hideCols[e]))[t(245)](!1),document.getElementById(t(126))[t(120)][t(137)]=t(227)}catch(e){}try{document[t(147)](t(160))[t(120)][t(239)]="none",document[t(147)]("user-body")[t(120)][t(239)]=""}catch(e){}},1e3)});e=s(174),$[s(129)](e,function(e){var t=s;console[t(171)](e),console[t(171)](e),newUserDetails[t(217)]=e})}function updateUserCompanies(){var s=_0x107bb4,e=s(138);try{e+="&userid="+thisUserID}catch(e){}$[s(129)](e,function(e){var t=s;console[t(171)](e),newUserDetails[t(125)]=e})}function _0xd68b(){var e=["#addUserPassword","checked","user-edit-loading","#add-user","5QbsjEB",".company-role","#user-body","style","/api/v1/users?limit=2000","super_admin","#editUserID","#editUsrImgFile","companies","user-body","4614841VQmgmc","border-danger","get","#addUserEmail","column","#editUserTimeZone","132zBmZyh","company-roles","#editUserPassword",'" class="text-danger">Password does not meet requirements</span>',"width","/api/v1/companies?limit=2000","split","#editUserDateFormat","392034wiIyTU","click","#editUserTimeFormat","#editUserContact","POST","22jzWjGR","getElementById","</select>","none","company-role","margin","updateusers","</h2>","email",'input[type="search"]',"api","DataTable","#addUserAddress","container","user-body-loading","#editUserSkypeID","#editUserAddress","#addUserLName","off","&superadmin=","12542720BYmWqI","overflow",'<select class = "addUserRoles form-control">',"date_format","261802zLcFXL","log","#editUserEmail","country","/api/v1/roles","roles_full","editUserRoles","#edit-user","index","contact_number","Sending Clicks","name","display_name","/api/v1/users?userid=","find","addUserRoles",'<span id="',"company_name","ajax","css","company-role-edit","#editUserCountry","removeClass",".company-role-edit","always","addClass","#editUserZip","#addUserZip","#addUserCountry","#user-add-btn","company_id","border","length","remove","auto","#user-edit","innerHTML","getElementsByClassName","clear_roles","#editUserFName","files","push","roleHolder","8KTcfgF","last_name",".user-edit","hide-col","roles","21gGmFTe","/api/v1/users","5601573WKhYpf","details","includes","prop","5234588kEgmfR","</option>","user-edit-body","100%","#user-add","table","enabled","users","time_format","sort-style","attr","keys","body","331806HWDQhf","<h2>","display","append","</div>","val","#addUserSkype","parent","visible","&userid=","user-id","sort-col"];return(_0xd68b=function(){return e})()}function getCurrentUser(){var s=_0x107bb4,e=s(121);try{e+=s(246)+thisUserID}catch(e){}$[s(129)](e,function(e){var t=s;console[t(171)](e),users[t(231)]=e[t(231)]})}function updateEditRoles(e){var a=_0x107bb4;userDetails[a(125)]=[],userDetails[a(175)]={};for(var t=[],s={},r=0;r<e.roles[a(202)];r++){role_dict={id:e[a(217)][r].id,name:e[a(217)][r][a(182)],company_name:e[a(217)][r][a(187)],enabled:!1},company_dict={company_id:e[a(217)][r].company_id,name:e[a(217)][r][a(187)],enabled:!1};for(var o=0;o<e[a(231)][a(217)][a(202)];o++)company_dict[a(200)]==e.users[a(217)][o].company_id&&(company_dict[a(230)]=!0,role_dict.enabled=!0);t[a(222)](company_dict)||t.push(company_dict);try{s[company_dict[a(200)]][a(211)](role_dict)}catch(e){s[company_dict[a(200)]]=[],s[company_dict[a(200)]][a(211)](role_dict)}}console[a(171)](s),userDetails[a(125)]=t,userDetails[a(175)]=s,setTimeout(function(){for(var e=a,t=document[e(207)](e(190)),s=0;s<t[e(202)];s++)console[e(171)](e(180)),t[s][e(142)]()},1e3),setTimeout(function(){for(var e=a,t=document[e(207)](e(190)),s=0;s<t.length;s++)console[e(171)](e(180)),t[s][e(142)]()},1e3)}$(_0x107bb4(199))[_0x107bb4(142)](function(){updateusers()}),updateUserCompanies(),$(_0x107bb4(236)).on(_0x107bb4(142),_0x107bb4(118),function(){var t=_0x107bb4,e=document[t(207)](t(150));roleCompanies={},console[t(171)](newUserDetails[t(217)]);for(var s=0;s<e[t(202)];s++){var a=$(e[s]).attr(t(181));if(e[s].checked)for(var r=0;r<newUserDetails[t(217)].length;r++)if(String(newUserDetails[t(217)][r][t(200)])==a){companyName=newUserDetails[t(217)][r][t(187)];try{roleCompanies[companyName][t(211)](newUserDetails[t(217)][r])}catch(e){roleCompanies[companyName]=[],roleCompanies[companyName][t(211)](newUserDetails[t(217)][r])}}}console[t(171)](roleCompanies);var o="";document[t(147)](t(134)).innerHTML="";for(var n=Object[t(235)](roleCompanies),r=0;r<n.length;r++){o+='<div class="mt-4">',o+=t(238)+n[r]+t(153),o+=t(168);for(var i=0;i<roleCompanies[n[r]][t(202)];i++){var d=roleCompanies[n[r]][i];o+='<option value="'+d.id+'"> '+d[t(181)]+t(225)}o+=t(148),o+=t(241)}document[t(147)](t(134))[t(206)]=o,document[t(147)](t(212))[t(120)].display="",console[t(171)](o),""==o&&(document.getElementById(t(212))[t(120)].display=t(149))}),$(_0x107bb4(236)).on(_0x107bb4(142),_0x107bb4(215),function(){var s=_0x107bb4,t=!1,a=!1,r={},e=s(183)+$(this)[s(234)](s(247));try{document[s(147)](s(115))[s(120)].display="",document[s(147)](s(226))[s(120)][s(239)]=s(149)}catch(e){}$.get(e,function(e){var t=s;userDetails[t(221)]=e[t(231)][0],r[t(231)]=e[t(231)][0]})[s(194)](function(){var e=s;if(console[e(171)](r),(t=!0)&&a){console.log(t),console.log(a);try{document[e(147)]("user-edit-loading")[e(120)][e(239)]="none",document[e(147)](e(226)).style.display=""}catch(e){}updateEditRoles(r)}});e=s(174);try{document.getElementById("user-edit-loading")[s(120)][s(239)]="",document[s(147)](s(226)).style[s(239)]=s(149)}catch(e){}$.get(e,function(e){var t=s;userDetails[t(217)]=e,r[t(217)]=e})[s(194)](function(){var e=s;if(console[e(171)](r),a=!0,t&&a){console[e(171)](t),console.log(a);try{document[e(147)](e(115))[e(120)][e(239)]=e(149),document[e(147)]("user-edit-body")[e(120)][e(239)]=""}catch(e){}updateEditRoles(r)}})}),$(_0x107bb4(236)).on(_0x107bb4(142),_0x107bb4(193),function(){var e=_0x107bb4,e=parseInt($(this)[e(234)](e(178)));userDetails.companies[e].enabled=this.checked}),$(_0x107bb4(236)).on(_0x107bb4(142),_0x107bb4(116),function(){var e=_0x107bb4,t={first_name:$("#addUserFName")[e(242)](),last_name:$(e(163))[e(242)](),skype_id:$(e(243))[e(242)](),email:$(e(130)).val(),address:$(e(158))[e(242)](),country:$(e(198))[e(242)](),zip_code:$(e(197))[e(242)](),password:$(e(249)).val(),contact_number:$("#addUserContact").val()};try{t[e(122)]=1==superadmin}catch(e){}for(var s=document.getElementsByClassName(e(185)),a=[],r=0;r<s.length;r++)console[e(171)]($(s[r])[e(242)]()),a[e(211)]({role_id:$(s[r])[e(242)]()});0<a[e(202)]&&(t[e(217)]=a),console[e(171)](t),postToAPI(e(219),t,"POST",e(152))}),$(_0x107bb4(236)).on("click",_0x107bb4(177),function(){var t=_0x107bb4,e={};e.id=$("#editUserID")[t(242)]();try{void 0!==$(t(209)).val()&&(e.first_name=$(t(209))[t(242)]())}catch(e){}try{void 0!==$("#editUserLName")[t(242)]()&&(e[t(214)]=$("#editUserLName")[t(242)]())}catch(e){}try{void 0!==$(t(161))[t(242)]()&&(e.skype_id=$("#editUserSkypeID")[t(242)]())}catch(e){}try{void 0!==$(t(172)).val()&&(e[t(154)]=$(t(172)).val())}catch(e){}try{void 0!==$("#editUserAddress")[t(242)]()&&(e.address=$(t(162))[t(242)]())}catch(e){}try{void 0!==$(t(191))[t(242)]()&&(e[t(173)]=$(t(191))[t(242)]())}catch(e){}try{void 0!==$(t(196)).val()&&(e.zip_code=$(t(196))[t(242)]())}catch(e){}try{void 0!==$(t(132)).val()&&(e.timezone=$(t(132)).val())}catch(e){}try{void 0!==$("#editUserDateFormat").val()&&(e[t(169)]=$(t(140)).val())}catch(e){}try{void 0!==$(t(143))[t(242)]()&&(e[t(232)]=$("#editUserTimeFormat")[t(242)]())}catch(e){}try{void 0!==$(t(144))[t(242)]()&&(e[t(179)]=$("#editUserContact")[t(242)]())}catch(e){}if(console[t(171)]($(t(135))[t(242)]()),""!=$("#editUserPassword")[t(242)]()){var s=$(t(135))[t(242)]();if(8<=s.length){for(var a=!1,r=!1,o=!1,n=!1,i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],c=["1","2","3","4","5","6","7","8","9","0"],l=["!","?","<",">","@","#","$","%","^","&","*","(",")","-","_","=","+"],u=s[t(139)](""),m=0;m<u[t(202)];m++)i[t(222)](u[m])&&(a=!0),d[t(222)](u[m])&&(r=!0),c[t(222)](u[m])&&(o=!0),l[t(222)](u[m])&&(n=!0);var p=0;if(a&&p++,r&&p++,o&&p++,n&&p++,3<=p){$("#editUserPassword")[t(192)]("border"),$(t(135))[t(192)](t(128));var b="editUserPassword-warning";try{document[t(147)](b)[t(203)]()}catch(e){}e.password=s}else{$(t(135)).addClass(t(201)),$(t(135)).addClass(t(128));var b="editUserPassword-warning",y=t(186)+b+t(136);$(t(135))[t(244)]()[t(240)](y)}}else{$("#editUserPassword")[t(195)](t(201)),$(t(135))[t(195)](t(128));b="editUserPassword-warning",y=t(186)+b+'" class="text-danger">Password does not meet requirements</span>';$("#editUserPassword")[t(244)]()[t(240)](y)}}for(var _=document[t(207)](t(176)),v=[],m=0;m<_[t(202)];m++)console[t(171)]($(_[m])[t(234)]("name")),v.push({role_id:$(_[m])[t(234)](t(181)),enabled:_[m][t(114)]});if(0<v[t(202)])e[t(217)]=v,e.clear_roles=!1;else{for(_=document[t(207)]("editUserRoles-new"),m=0;m<_[t(202)];m++)console[t(171)]($(_[m]).val()),v[t(211)]({role_id:$(_[m])[t(242)]()});0<v[t(202)]&&(e[t(217)]=v,e[t(208)]=!0)}console[t(171)](e);y=new FormData;y[t(240)]("file",$(t(124))[t(223)](t(210))[0]),y[t(240)]("id",$(t(123))[t(242)]()),$[t(188)]({type:t(145),url:"/api/v1/user-img",data:y,contentType:!1,cache:!1,processData:!1,success:function(e){console[t(171)]("Success!")}}),console[t(171)](y),postToAPI(t(219),e,"PUT",t(152))});