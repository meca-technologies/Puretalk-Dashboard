var _0x491ca3=_0xb626;(function(){for(var a=_0xb626,t=_0x3da4();;)try{if(136192==-parseInt(a(514))+-parseInt(a(486))/2*(-parseInt(a(533))/3)+-parseInt(a(490))/4+parseInt(a(506))/5+parseInt(a(485))/6*(parseInt(a(508))/7)+parseInt(a(467))/8+-parseInt(a(502))/9*(-parseInt(a(489))/10))break;t.push(t.shift())}catch(a){t.push(t.shift())}})(),document[_0x491ca3(475)](_0x491ca3(526))[_0x491ca3(532)][_0x491ca3(471)]=_0x491ca3(478);var wallet_table,walletDetails=new Vue({delimiters:["[[","]]"],el:"#wallet-summary-body",data:{details:{paid_balance:0,refunded_balance:0,voided_balance:0}}}),walletTransactions=new Vue({delimiters:["[[","]]"],el:_0x491ca3(462),data:{transactions:[]}});function goBetweenNumbers(a,t,e){return a<1&&(a=1),(t-a)/e}function _0xb626(a,t){var e=_0x3da4();return(_0xb626=function(a,t){return e[a-=461]})(a,t)}function smoothTransition(a){var t=_0x491ca3,e=walletDetails[t(527)][t(479)];try{var n=a[t(487)](myFunc)}catch(a){n=0}typeof n==t(511)&&(n=a[0].amount),console[t(468)](n);var o,l=goBetweenNumbers(e,n,100),r=Math[t(516)](e-n);l<.3&&(l=2<r?0<l?10:-10:0<l?.1:-.1),document[t(475)](t(526))[t(532)][t(471)]="",e!=n&&(o=e<n?setInterval(function(){var a=t;e+=l,walletDetails[a(527)].paid_balance=e,n<=e&&(walletDetails[a(527)].paid_balance=n,console.log(walletDetails[a(527)][a(479)]),clearInterval(o))},10):setInterval(function(){var a=t;e+=l,(walletDetails[a(527)][a(479)]=e)<=n&&(walletDetails[a(527)][a(479)]=n,console[a(468)](walletDetails[a(527)][a(479)]),clearInterval(o))},20))}function _0x3da4(){var a=["3TpjIaS","destroy","#tran-type","click","keydown","#customer-state","height","/api/v1/stripe/charge","length","border-danger","Charge was successful","addClass","wallet-transaction-body","hide","danger","#to-date","border","#card-cvc","FAILURE","transaction-id","#card-exp","#wallet-transaction-body","POST","#add-credit","change","data","392744aqkUfJ","log","val","split","display","#customer-country","wallet-summary-body-loading","stringify","getElementById","#card-number","&to=","none","paid_balance","body","parent","#wallet-add-funds","desc","push","30njvgVb","134238SbfvVj","reduce","#customer-email","10GOiTzW","800956IoTldP","51px","replace",".void-transaction","ajax","transactions","voided","get","DataTable","#company-body","#wallet-add-credit","attr","1429767dUfJdp","alerts","alert-holder","#customer-city","1062540ZTMiBH","removeClass","72457jfYMZk","#from-date","#credit-to-add","object","type","paid","202907swpQcx","80px","abs","#wallet-transaction-table","json","&type=","amount","All","string","#customer-name","substring","#credit-memo","wallet-summary-body","details","Message","always","/api/v1/wallet","/api/v1/wallet?companyid=","style"];return(_0x3da4=function(){return a})()}function myFunc(a,t){var e=_0x491ca3;return typeof(total_amount=a)==e(522)?total_amount=parseFloat(a):typeof a==e(511)&&(total_amount=parseFloat(a[e(520)])),amount="paid"==t[e(512)]?parseFloat(t[e(520)]):-1*parseFloat(t[e(520)]),total_amount+amount}$("#wallet-filter-report")[_0x491ca3(536)](function(){var e=_0x491ca3;document[e(475)](e(473))[e(532)][e(471)]="",document[e(475)](e(545))[e(532)].display="none";var a="";$(e(509))[e(469)]()&&(a+="&from="+$(e(509))[e(469)]()),$("#to-date")[e(469)]()&&(a+=e(477)+$(e(548)).val()),$("#tran-type")[e(469)]()!=e(478)&&(a+=e(519)+$(e(535))[e(469)]());try{wallet_table[e(534)]()}catch(a){}a="/api/v1/wallet?companyid="+$(e(499))[e(469)]()+a;console.log(a);$[e(497)](a,function(a){var t=e;console[t(468)](typeof a),walletTransactions[t(495)]=a})[e(529)](function(){setTimeout(function(){var a=_0xb626;wallet_table=$("#wallet-transaction-table")[a(498)]({order:[[4,a(483)]],lengthMenu:[[-1,10,25,50],[a(521),10,25,50]]}),document[a(475)]("wallet-summary-body-loading")[a(532)][a(471)]=a(478),document[a(475)](a(526)).style.display="",document[a(475)]("wallet-transaction-body")[a(532)][a(471)]=""},1e3)})}),$(_0x491ca3(499))[_0x491ca3(465)](function(){var a,e=_0x491ca3;$(e(464)).modal(e(546)),document[e(475)]("wallet-summary-body-loading")[e(532)][e(471)]="",document[e(475)]("wallet-summary-body").style[e(471)]=e(478),document[e(475)](e(545))[e(532)].display=e(478),console[e(468)]($(this)[e(469)]());try{wallet_table[e(534)]()}catch(a){}$(this)[e(469)]()!=e(478)&&(a=e(531)+$(this)[e(469)](),$.get(a,function(a){var t=e;smoothTransition(a),walletTransactions[t(495)]=a})[e(529)](function(){setTimeout(function(){var a=_0xb626;wallet_table=$(a(517))[a(498)]({order:[[4,a(483)]],lengthMenu:[[-1,10,25,50],[a(521),10,25,50]]}),document[a(475)]("wallet-summary-body-loading")[a(532)][a(471)]=a(478),document[a(475)](a(526))[a(532)].display="",document[a(475)](a(545))[a(532)][a(471)]=""},1e3)}))}),$(_0x491ca3(500))[_0x491ca3(536)](function(){var a=_0x491ca3,t=$(a(525))[a(469)]();""==t&&(t=null);t={company_id:$(a(499))[a(469)](),type:a(513),amount:parseFloat($(a(510))[a(469)]()),memo:t};console[a(468)](t),postToAPI(a(530),t,a(463),"updateWalletBalance")}),$(_0x491ca3(482))[_0x491ca3(536)](function(){var n=_0x491ca3,a=$("#memo")[n(469)]();""==a&&(a=null);a={company_id:$(n(499))[n(469)](),customer_name:$(n(523))[n(469)](),customer_email:$(n(488)).val(),customer_address:$("#customer-address")[n(469)](),customer_city:$(n(505)).val(),customer_state:$(n(538))[n(469)](),customer_zip:$("#customer-zip")[n(469)](),customer_country:$(n(472))[n(469)](),card_number:$("#card-number")[n(469)]().replace(/\D/g,""),card_exp_month:String($("#card-exp").val()[n(492)](/\D/g,""))[n(524)](0,2),card_exp_year:"20"+String($(n(461))[n(469)]().replace(/\D/g,"")).substring(2,4),card_cvc:$(n(550))[n(469)]()[n(492)](/\D/g,""),type:n(513),amount:parseFloat($("#funds-to-add")[n(469)]()),memo:a};console[n(468)](a),document[n(475)](n(504))[n(532)][n(471)]="",$[n(494)]({type:n(463),url:n(540),contentType:"application/json; charset=utf-8",dataType:n(518),data:JSON[n(474)](a),success:function(a){var t,e=n;console.log(e(466)),console[e(468)](a),"Success"==a[e(528)]?($(e(476))[e(507)](e(549)),$(e(476))[e(507)]("border-danger"),alerts[e(503)][e(484)]({status:"success",message:e(543)}),t=$(e(476))[e(481)]()[e(497)](0),(t=$(t)[e(481)]()[e(497)](0))[e(532)][e(539)]=e(491),$("#company-body")[e(465)]()):"Card number was not valid!"==a[e(528)]&&(alerts.alerts.push({status:e(547),message:a[e(528)]}),t=$(e(476))[e(481)]()[e(497)](0),(t=$(t)[e(481)]()[e(497)](0))[e(532)][e(539)]=e(515),$(e(476))[e(544)]("border"),$("#card-number").addClass(e(542)))},error:function(a){console.log(n(551))}})}),$(_0x491ca3(476))[_0x491ca3(537)](function(){for(var a=_0x491ca3,t=$(this)[a(469)]().replace(/\D/g,"")[a(470)](""),e="",n=0;n<t[a(541)];n++)4!=n&&8!=n&&12!=n&&16!=n||(e+="-"),e+=t[n];$(this)[a(469)](e)}),$(_0x491ca3(461))[_0x491ca3(537)](function(){for(var a=_0x491ca3,t=$(this)[a(469)]()[a(492)](/\D/g,"")[a(470)](""),e="",n=0;n<t[a(541)];n++)2!=n&&8!=n&&12!=n&&16!=n||(e+="/"),e+=t[n];$(this)[a(469)](e)}),$(_0x491ca3(480)).on(_0x491ca3(536),_0x491ca3(493),function(){var a=_0x491ca3,t={id:$(this)[a(501)](a(552)),type:a(496)};postToAPI(a(530),t,"PUT","updateWalletBalance")});