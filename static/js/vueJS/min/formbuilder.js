function _0x57e8(e,t){var o=_0x5a15();return(_0x57e8=function(e,t){return o[e-=486]})(e,t)}var _0x5bf86d=_0x57e8;!function(){for(var e=_0x57e8,t=_0x5a15();;)try{if(473717==+parseInt(e(533))*(parseInt(e(492))/2)+-parseInt(e(544))/3*(parseInt(e(514))/4)+-parseInt(e(570))/5*(-parseInt(e(558))/6)+-parseInt(e(549))/7+parseInt(e(507))/8+-parseInt(e(579))/9*(parseInt(e(543))/10)+-parseInt(e(519))/11*(-parseInt(e(542))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();try{document[_0x5bf86d(568)](_0x5bf86d(555))[_0x5bf86d(502)][_0x5bf86d(560)]="",document[_0x5bf86d(568)](_0x5bf86d(512))[_0x5bf86d(502)][_0x5bf86d(560)]=_0x5bf86d(557)}catch(e){}var formID,forms=new Vue({delimiters:["[[","]]"],el:_0x5bf86d(580),data:{forms:[]}}),formDetails=new Vue({delimiters:["[[","]]"],el:_0x5bf86d(498),data:{details:{}}});function updateForms(){var o=_0x5bf86d;$[o(547)](o(556),function(e){var t=o;forms[t(569)]=e;try{document.getElementById(t(555))[t(502)][t(560)]=t(557),document.getElementById(t(512)).style[t(560)]=""}catch(e){}}).always(function(){setTimeout(function(){updateNotification()},1e3)})}function updateCurrentForm(){var e=_0x5bf86d,t=e(522)+formID;$[e(547)](t,function(e){formDetails.details=e[0]})}function _0x5a15(){var e=["#edit-form-name","getElementsByClassName","checked","9vFKWRh","#form-builder","body","log","fullDetails","form-id","length","#form-edit-new-label","190558QeMsIr","form-edit-buttons-row","reloadPage","result","target","field-delete","#form-edit","updateCurrentForm","Please Select A Field","stringify","style","#edit-form-webhook","field-name","#form-name-add","PUT","2534248bGBunD","remove","lead-import-card","#cancel-label","add-label","form-builder","field-value","4tvcfic","push","details","click","#form-details","11LiAtcR","skip","option:selected","/api/v1/forms?formid=","split","default-forms","load","Exists",".form-delete","#importCSV","form-edit-new-label-row",".default-forms","lead-import-loading","attr","3ARdTIX","form_field",".form-layout","#campaign-body","files","fields","#save-label","CLicked","webhook_fields","17746284dRrokM","7360370znWzmg","2592984vmSvqS","CHANGED","/api/v1/leads","get","name","2442930gobRwT","/api/v1/campaigns?campaignid=","field_name","#webhook_url","#add-form","POST","form-builder-loading","/api/v1/forms?limit=2000","none","6ZFvhBT",".field-delete","display","notUsed","addEventListener","DELETE","readAsBinaryString","/api/v1/forms","updateForms","#add-label","getElementById","forms","1707985FhJFIM","columns","val","form_id","text","refNum"];return(_0x5a15=function(){return e})()}$(_0x5bf86d(486)).on(_0x5bf86d(517),".form-edit",function(){var t=_0x5bf86d,e="/api/v1/forms?formid="+(formID=$(this)[t(532)](t(489)));$.get(e,function(e){formDetails[t(516)]=e[0]})}),$(_0x5bf86d(553)).click(function(){var e=_0x5bf86d;document[e(568)](e(555))[e(502)][e(560)]="",document[e(568)]("form-builder")[e(502)][e(560)]="none";var t={form_name:$(e(505))[e(572)]()};postToAPI(e(565),t,e(554),e(566))}),$("#save-form")[_0x5bf86d(517)](function(){var e=_0x5bf86d,t={id:formID,form_name:$(e(576))[e(572)]()};postToAPI("/api/v1/forms",t,"PUT",e(499))}),$(_0x5bf86d(503))[_0x5bf86d(517)](function(){var e=_0x5bf86d,t={id:formID,webhook_url:$(e(552))[e(572)](),webhook_type:$("#webhook_type")[e(572)]()},o=document[e(577)](e(541));fields=[];for(var d=0;d<o.length;d++)fields[e(515)]({field_name:$(o[d]).attr(e(504)),order:7,webhook_field:$(o[d])[e(572)]()});0<fields.length&&(t[e(538)]=fields),console[e(487)](t),postToAPI(e(565),t,e(506),e(499))}),$(_0x5bf86d(486)).on(_0x5bf86d(517),_0x5bf86d(527),function(){var e=_0x5bf86d;document[e(568)](e(555))[e(502)][e(560)]="",document.getElementById(e(512))[e(502)][e(560)]="none";var t={id:$(this)[e(532)](e(489))};postToAPI(e(565),t,e(563),"updateForms")}),$(_0x5bf86d(567)).click(function(){var e=_0x5bf86d;document[e(568)](e(529))[e(502)].display="",document[e(568)](e(511)).style.display="none",document.getElementById(e(493))[e(502)].display=""}),$(_0x5bf86d(510))[_0x5bf86d(517)](function(){var e=_0x5bf86d;document[e(568)](e(529)).style[e(560)]=e(557),document[e(568)](e(511))[e(502)][e(560)]="",document[e(568)](e(493)).style.display=e(557)}),$(_0x5bf86d(539))[_0x5bf86d(517)](function(){var e=_0x5bf86d;document[e(568)](e(529))[e(502)].display=e(557),document[e(568)](e(511))[e(502)].display="",document.getElementById(e(493)).style[e(560)]="none";for(var t={id:formID,fields:[]},o=document[e(577)](e(524)),d=0;d<o[e(490)];d++)o[d].checked&&t[e(538)][e(515)]({field_name:$(o[d])[e(532)](e(548)),order:7});for(o=document[e(577)](e(534)),d=0;d<o[e(490)];d++){for(var a=!1,n=0;n<t[e(538)].length;n++)t[e(538)][n][e(551)]==$(o[d])[e(532)]("name")&&(a=!0);a?console.log("Exists"):t[e(538)].push({field_name:$(o[d])[e(532)](e(548)),order:7})}t[e(538)][e(515)]({field_name:$(e(491))[e(572)](),order:7}),postToAPI(e(565),t,e(506),e(499))}),$(_0x5bf86d(486)).on("click",_0x5bf86d(559),function(){var e=_0x5bf86d;$(this).parent()[e(508)]();for(var t={id:$("#edit-form-id").val(),fields:[]},o=document[e(577)](e(497)),d=0;d<o[e(490)];d++)t[e(538)].push({field_name:$(o[d])[e(532)](e(513)),order:7});console[e(487)](t),postToAPI(e(565),t,e(506),e(499))}),$("body").on("click",_0x5bf86d(530),function(){var e=_0x5bf86d;if(this.checked){var t={id:formID=$(this).attr("form-id"),fields:[{field_name:$(this)[e(532)]("name"),order:7}]};t[e(538)]=[];for(var o=document[e(577)](e(524)),d=0;d<o[e(490)];d++)o[d][e(578)]&&t[e(538)][e(515)]({field_name:$(o[d]).attr(e(548)),order:7});for(o=document[e(577)](e(534)),d=0;d<o.length;d++){for(var a=!1,n=0;n<t.fields.length;n++)t.fields[n][e(551)]==$(o[d])[e(532)](e(548))&&(a=!0);a?console[e(487)](e(526)):t[e(538)][e(515)]({field_name:$(o[d])[e(532)](e(548)),order:7})}console[e(487)](JSON[e(501)](t)),postToAPI("/api/v1/forms",t,e(506),e(499))}else this.checked=!0}),updateForms();var csvDetails=new Vue({delimiters:["[[","]]"],el:_0x5bf86d(518),data:{fields:[],columns:[],fullDetails:[]}});try{const fa=document.getElementById("import_file");fa[_0x5bf86d(562)]("change",handleFiles,!1)}catch(e){}var csvDataFull=[];function handleFiles(){var d=_0x5bf86d;csvDetails[d(571)]=[],csvDetails[d(488)]=[];var e=this[d(537)][0],t=new FileReader;t[d(562)](d(525),function(e){var t=d,e=e[t(496)][t(495)][t(523)]("\n"),e=(csvDataFull=e)[0][t(523)](",");csvDetails[t(571)]=e;for(var o=0;o<csvDetails.columns.length;o++)csvDetails[t(488)][t(515)]({column_name:csvDetails[t(571)][o],fields:csvDetails[t(516)]})}),t[d(564)](e)}$(_0x5bf86d(536)).change(function(){var t=_0x5bf86d;console.log(t(545));var e=$(this)[t(572)]();csvDetails[t(538)]=[],csvDetails[t(488)]=[];$.get(t(550)+e,function(e){var d=t,e=e[0][d(573)],e=d(522)+e;$.get(e,function(e){var t=d;csvDetails.details=e[0][t(538)],csvDetails[t(488)]=[];for(var o=0;o<csvDetails.columns[t(490)];o++)csvDetails[t(488)][t(515)]({column_name:csvDetails.columns[o],fields:csvDetails.details})})})}),$("body").on(_0x5bf86d(517),_0x5bf86d(528),function(){var e=_0x5bf86d;document.getElementById(e(531))[e(502)].display="",document[e(568)](e(509))[e(502)][e(560)]="none",console[e(487)](e(540));for(var t=$(e(535)),o=[],d=(csvDataFull[0].split(",")[e(490)],0);d<t[e(490)];d++)o[e(515)]({field_name:$(t[d]).find(e(521))[e(574)]()});for(var a=$("#campaign-body")[e(572)](),n=[],d=1;d<csvDataFull.length;d++){for(var i=[],l=csvDataFull[d][e(523)](","),r="",f=0;f<l[e(490)];f++)o[f].form_field_id!=e(575)?o[f].form_field_id!=e(520)&&o[f].form_field_id!=e(561)&&(console[e(487)](o[f][e(551)]),o[f][e(551)]!=e(500)&&"- Not Used -"!=o[f][e(551)]&&i[e(515)]({field_name:o[f][e(551)],field_value:l[f]})):r=l[f];0<i[e(490)]&&n[e(515)]({reference_number:r,status:"unactioned",interested:null,appointment_booked:"0",campaign_id:a,email_template_id:null,first_actioned_by:null,last_actioned_by:null,time_taken:null,lead_data:i})}console.log(n),postToAPI(e(546),n,e(554),e(494))});