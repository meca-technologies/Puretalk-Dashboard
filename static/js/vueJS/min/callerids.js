var _0x493719=_0x4d71;!function(){for(var a=_0x4d71,e=_0x2950();;)try{if(858982==-parseInt(a(397))*(parseInt(a(420))/2)+parseInt(a(390))/3+-parseInt(a(436))/4*(-parseInt(a(395))/5)+parseInt(a(385))/6*(parseInt(a(412))/7)+parseInt(a(408))/8*(-parseInt(a(422))/9)+parseInt(a(428))/10*(-parseInt(a(438))/11)+parseInt(a(391))/12)break;e.push(e.shift())}catch(a){e.push(e.shift())}}();try{const g=document[_0x493719(396)]("import_file");g[_0x493719(424)]("change",handleFiles,!1)}catch(a){}var csvDataFull=[];function handleFiles(){var l=_0x493719,a=this[l(433)][0],e=new FileReader;e.addEventListener(l(415),function(a){var e=l,a=a[e(426)][e(407)][e(414)]("\n");csvDataFull=a,console[e(440)](csvDataFull)}),e[l(405)](a)}$("body").on(_0x493719(421),_0x493719(434),function(){var e=_0x493719;document[e(396)](e(413)).style[e(388)]="",document.getElementById(e(400)).style[e(388)]=e(441);for(var l=$(e(384))[e(427)](),t=[],r=0;r<csvDataFull[e(386)];r++)try{t[e(418)]({campaign_id:l,caller_id:csvDataFull[r].split(",")[0].replace(/\D/g,""),name:csvDataFull[r][e(414)](",")[1][e(417)]("\r","")})}catch(a){t.push({campaign_id:l,caller_id:csvDataFull[r][e(417)](/\D/g,"")})}console[e(440)](t),postToAPI(e(443),t,"POST",e(394))});var callerIDTable=$("#caller-id-table").DataTable({language:{paginate:{previous:"<<",next:">>"}}});function _0x4d71(a,e){var l=_0x2950();return(_0x4d71=function(a,e){return l[a-=384]})(a,e)}function _0x2950(){var a=["click","3303VrDHgH","attr","addEventListener","#caller-id-delete-conf","target","val","33620opyykc","#caller-id-body","#caller-id-table","verify-code","callerIDs","files","#importCSV","substring","24axWOiW","POST","1133ApJMKK","application/json; charset=utf-8","log","none","caller_id","/api/v1/campaigns/caller-ids","verification_code","#campaign-body","228840kHgsVY","length","Campaign Changed","display","DELETE","926046OZgyRX","1268088YhPceA","destroy","modal","reloadPage","781430hXsMIm","getElementById","29ayXNvL","get","caller-id","lead-import-card",".caller-id-delete","body","#caller-id-verify-modal","DataTable","readAsBinaryString","toggle","result","20968ttPKQJ","data",".verify-caller","innerHTML","203vTuwtr","lead-import-loading","split","load","hide","replace","push","change","20066rDlPFt"];return(_0x2950=function(){return a})()}var callerIDCheck,callerID,callerIDs=new Vue({delimiters:["[[","]]"],el:_0x493719(429),data:{callerIDs:[]}});function updateCallerIDs(){var l=_0x493719,a="/api/v1/campaigns/caller-ids?campaignid="+$("#campaign-body")[l(427)]();$.get(a,function(a){var e=l;console.log(a),callerIDs[e(432)]=a;try{callerIDTable[e(392)]()}catch(a){}setTimeout(function(){var a=e;callerIDTable=$(a(430))[a(404)]({language:{paginate:{previous:"<<",next:">>"}}})},1e3)})}$(_0x493719(402)).on(_0x493719(419),_0x493719(384),function(){var a=_0x493719;console[a(440)](a(387)),$(this)[a(423)]("trigger-type")==a(399)&&""!=$(this)[a(427)]()&&updateCallerIDs()}),$(_0x493719(402)).on("click",_0x493719(410),function(){var l=_0x493719,a={id:$(this).attr("caller-id")};url="/api/v1/campaigns/caller-ids/verify",$.ajax({type:l(437),url:url,contentType:l(439),dataType:"json",data:JSON.stringify(a),success:function(a){var e=l;console[e(440)](e(409)),document[e(396)](e(431))[e(411)]=String(a[e(444)])[e(435)](0,3)+"-"+String(a[e(444)])[e(435)](3),$(e(403)).modal(e(406)),callerIDCheck=a[e(442)];var t=setInterval(function(){var l=e,a="/api/v1/campaigns/caller-ids/verify?callerid="+callerIDCheck;$[l(398)](a,function(a){var e=l;console.log(a),"incomplete"!=a&&(clearInterval(t),updateCallerIDs(),$(e(403))[e(393)](e(416)))})},2e3)},error:function(a){console[l(440)]("FAILURE")}})}),$("body").on(_0x493719(421),_0x493719(401),function(){var a=_0x493719;callerID=$(this).attr(a(399)),console[a(440)](callerID)}),$(_0x493719(425))[_0x493719(421)](function(){var a=_0x493719,e={id:callerID};console[a(440)](e),postToAPI(a(443),e,a(389),"updateCallerIDs")});