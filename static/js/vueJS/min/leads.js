var _0x429a0d=_0xfe9a;function _0xfe9a(a,e){var t=_0x30c1();return(_0xfe9a=function(a,e){return t[a-=481]})(a,e)}function _0x30c1(){var a=["click",'<li class="page-item incr-page" pagenum="-1"><a class="page-link">&gt;&gt;</a></li>','<li class="page-item lead-page" pagenum="1"><a class="page-link">1</a></li>',"entries","17780loVyyL","details","#leads-body","91fCwOvq","time_taken","144dUBuNo","trigger change","20XjvXZq",",call attempt,call duration,call recording\n","322YwtqUP","createElement","search","12LOcvJR","reference_number","lead-table-loading","leads","785433uisruj","location","cl_time_taken","1dsYXqf","max_documents","#from-date","doNothing","&from=","&status=","lead-id","data:text/csv;charset=utf-8,","#lead-details","#to-date","12298858Oizxgg","2538yhDqsD","&to=","#lead-status","lead id,reference number,last disposition,total duration,call attempt,call duration,call recording\n","val","#lead-interested","1658696GWZRmS","call_logs","href","getElementById","recordings","125984ymHhkn","&limit=","display",'<li class="page-item active lead-page" pagenum="',"1148090MhgrYJ","change",'"><a class="page-link">',"body","get","lead-table","style",'<li class="page-item active lead-page" pagenum="1"><a class="page-link">1</a></li>',"/api/v1/campaigns/make-call",".lead-call","POST","&interested=","attr","page-length","2770042dQxpdv","log",'<li class="page-item incr-page" pagenum="1"><a class="page-link">&lt;&lt;</a></li>',"none","</a></li>",'<li class="page-item lead-page" pagenum="',"download","#lead-table",'<li class="page-item lead-page" pagenum="2"><a class="page-link">2</a></li>',".lead-campaigns","sort-style","status","#campaign-body","fromEntries","call-history.csv","campaign-id","#export-history","length","<li>...</li>",".lead-page","innerHTML"];return(_0x30c1=function(){return a})()}!function(){for(var a=_0xfe9a,e=_0x30c1();;)try{if(992252==+parseInt(a(552))*(parseInt(a(508))/2)+-parseInt(a(549))/3*(parseInt(a(540))/4)+-parseInt(a(533))/5*(parseInt(a(563))/6)+parseInt(a(536))/7*(parseInt(a(490))/8)+-parseInt(a(538))/9*(parseInt(a(494))/10)+parseInt(a(562))/11*(parseInt(a(545))/12)+parseInt(a(485))/13*(parseInt(a(542))/14))break;e.push(e.shift())}catch(a){e.push(e.shift())}}();const urlSearchParams=new URLSearchParams(window[_0x429a0d(550)][_0x429a0d(544)]),params=Object[_0x429a0d(521)](urlSearchParams[_0x429a0d(532)]());var skip=0,limit=100,currPage=1;try{sortColumn=$(_0x429a0d(515))[_0x429a0d(506)]("sort-col")}catch(a){sortColumn=1}try{sortStyle=$(_0x429a0d(515))[_0x429a0d(506)](_0x429a0d(518))}catch(a){sortStyle="asc"}try{pageLength=$(_0x429a0d(515))[_0x429a0d(506)](_0x429a0d(507))}catch(a){pageLength=5}try{hideColsRaw=$("#lead-table")[_0x429a0d(506)]("hide-col"),hideCols=hideColsRaw.split(",")}catch(a){hideCols=[]}try{document[_0x429a0d(488)](_0x429a0d(547))[_0x429a0d(500)][_0x429a0d(492)]=_0x429a0d(511),document[_0x429a0d(488)](_0x429a0d(499))[_0x429a0d(500)][_0x429a0d(492)]=""}catch(a){}try{void 0!==params.campaignid?($(_0x429a0d(520)).val(params.campaignid),getLeads(),$("#campaign-body")[_0x429a0d(495)]()):(console[_0x429a0d(509)](_0x429a0d(539)),updateLeadSummary(),updateCompanyLeadSummary())}catch(a){}var leadTable,leadData=[];document[_0x429a0d(488)]("lead-table")[_0x429a0d(500)][_0x429a0d(492)]="";var leads=new Vue({delimiters:["[[","]]"],el:_0x429a0d(535),data:{leads:[{Email:"-",First_Name:"-",Last_Name:"-",Phone_No:"-",campaign_name:"-",id:"-",interested:null,lead_data:[],recordings:[],reference_number:"-",status:"-"}]}}),leadDetails=new Vue({delimiters:["[[","]]"],el:_0x429a0d(560),data:{details:{}}});function getLeads(){var i=_0x429a0d;try{document[i(488)](i(547)).style[i(492)]="",document.getElementById(i(499))[i(500)][i(492)]=i(511)}catch(a){}var a="/api/v1/leads?campaignid="+$("#campaign-body").val()+"&skip="+String(skip)+i(491)+String(limit);i(511)!=$("#lead-status").val()&&(a+=i(557)+$(i(481))[i(483)]()),i(511)!=$(i(484))[i(483)]()&&(a+=i(505)+$(i(484))[i(483)]()),""!=$(i(554)).val()&&""!=$(i(561))[i(483)]()&&(a+=i(556)+$(i(554))[i(483)](),a+=i(564)+$(i(561))[i(483)]()),console[i(509)](a),$[i(498)](a,function(a){var e=i;console.log(a),leads[e(548)]=a,leadData=a,document[e(488)](e(499))[e(500)][e(492)]="";try{var t=parseInt(a[0][e(553)]/limit),l=e(510);2<currPage?(l+='<li class="page-item lead-page" pagenum="1"><a class="page-link">1</a></li>',1<t&&(l+=e(516),l+="<li>...</li>")):1==currPage?(l+=e(501),1<t&&(l+=e(516))):(l+=e(531),1<t&&(l+='<li class="page-item active lead-page" pagenum="2"><a class="page-link">2</a></li>'));for(var n=3;n<t;n++)10<t?currPage-2<n&&n<currPage+2&&(l+=n==currPage?e(493)+String(n)+e(496)+String(n)+e(512):e(513)+String(n)+e(496)+String(n)+e(512)):l+=e(513)+String(n)+e(496)+String(n)+"</a></li>";10<t&&2<t-currPage&&1<t&&(l+=e(526)),1<t&&(l+=currPage==t?'<li class="page-item active lead-page" pagenum="'+String(t)+e(496)+String(t)+e(512):'<li class="page-item lead-page" pagenum="'+String(t)+e(496)+String(t)+e(512)),l+=e(530),document.getElementById("leads-table-pagination")[e(528)]=l}catch(a){}}).always(function(){var a=i;try{document[a(488)](a(547))[a(500)][a(492)]=a(511),document[a(488)]("lead-table")[a(500)][a(492)]=""}catch(a){}})}$("#lead-filter-report").click(function(){$(_0x429a0d(517)).change()}),$(".lead-campaigns")[_0x429a0d(495)](function(){getLeads()}),$(_0x429a0d(497)).on(_0x429a0d(529),_0x429a0d(527),function(){var a=_0x429a0d;currPage=parseInt($(this)[a(506)]("pagenum")),skip=(currPage-1)*limit,$(".lead-campaigns")[a(495)]()}),$("body").on(_0x429a0d(529),".incr-page",function(){var a=_0x429a0d,e=parseInt($(this).attr("pagenum"));skip=((currPage-=e)-1)*limit,$(".lead-campaigns")[a(495)]()}),$(_0x429a0d(497)).on("click",".lead-details",function(){var t=_0x429a0d,a="/api/v1/leads?campaignid="+$(this)[t(506)](t(523))+"&leadid="+$(this)[t(506)](t(558));console[t(509)](a),$[t(498)](a,function(a){var e=t;console[e(509)](a[0]),leadDetails[e(534)]=a[0]})}),$(_0x429a0d(524))[_0x429a0d(529)](function(){for(var a=_0x429a0d,e=a(482),t=0;t<leadData[a(525)];t++){var l=leadData[t];e+=String(l.id)+","+String(l[a(546)])+","+String(l[a(519)])+","+String(l[a(537)])+a(541);for(var n=0;n<l[a(486)][a(525)];n++){callLog=l.call_logs[n],console.log;try{recording=l[a(489)][n].recording_link}catch(a){recording=""}e+=",,,,"+String(callLog.cl_attempted_by)+","+String(callLog[a(551)])+","+String(recording)+"\n"}e+="\n"}console[a(509)](e);var i=document[a(543)]("a");i[a(487)]=a(559)+encodeURI(e),i.target="_blank",i[a(514)]=a(522),i[a(529)]()}),$(_0x429a0d(497)).on(_0x429a0d(529),_0x429a0d(503),function(){var a=_0x429a0d;postData={reference_number:$(this)[a(506)]("reference"),campaign_id:$(this)[a(506)](a(523)),lead_id:$(this).attr(a(558))},postToAPI(a(502),postData,a(504),a(555))});